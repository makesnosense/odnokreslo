---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

type PortfolioPhoto = {
  readonly src: ImageMetadata;
  readonly alt: string;
};

import photo1 from "../images/portfolio/muzhskaya-strizhka-zaches-fade.jpg";
import photo2 from "../images/portfolio/muzhskaya-strizhka-tekstura-boroda.jpg";
import photo3 from "../images/portfolio/muzhskaya-strizhka-korotkiy-fade.jpg";
import photo4 from "../images/portfolio/zhenskaya-undercut-quiff.jpg";
import photo5 from "../images/portfolio/muzhskaya-srednyaya-volnistaya.jpg";
import photo6 from "../images/portfolio/zhenskaya-korotkaya-okrashivanie.jpg";

import photo7 from "../images/portfolio/klassicheskaya-muzhskaya-tekstura.jpg";
import photo8 from "../images/portfolio/muzhskaya-srednyaya-okrashivanie.jpg";

const portfolioPhotos: readonly PortfolioPhoto[] = [
  { src: photo1, alt: "мужская стрижка с зачесом назад и фейдом" },
  { src: photo2, alt: "мужская стрижка с текстурой и фейд с бородой" },
  { src: photo3, alt: "мужская стрижка с коротким верхом и высоким фейдом" },

  { src: photo4, alt: "женская стрижка андеркат с высоким квиффом" },
  { src: photo5, alt: "мужская стрижка средней длины с волнистой текстурой" },
  { src: photo6, alt: "женская короткая стрижка с окрашиванием и текстурой" },

  { src: photo7, alt: "классическая мужская стрижка с текстурой" },
  { src: photo8, alt: "мужская стрижка средней длины с окрашиванием" },
] as const;
---

<section class="portfolio-section">
  <div class="portfolio-grid">
    {
      portfolioPhotos.map((photo, index) => (
        <div class="portfolio-item">
          <Image
            src={photo.src}
            alt={photo.alt}
            widths={[300, 400, 600]}
            sizes="(max-width: 768px) 33vw, (max-width: 1200px) 25vw, (max-width: 1600px) 20vw, 16vw"
            loading={index < 6 ? "eager" : "lazy"}
          />
        </div>
      ))
    }
  </div>
</section>

<style>
  .portfolio-section {
    padding: var(--padding-vertical) var(--padding-horizontal);
    padding-bottom: calc(var(--padding-vertical) * 3);
  }

  .portfolio-grid {
    display: grid;
    gap: clamp(0.25rem, 0.9vw, 1rem);
    grid-template-columns: repeat(3, 1fr);

    @media (min-width: 768px) {
      grid-template-columns: repeat(4, 1fr);
    }

    @media (min-width: 1200px) {
      grid-template-columns: repeat(5, 1fr);
    }

    @media (min-width: 1600px) {
      grid-template-columns: repeat(6, 1fr);
    }
  }

  .portfolio-item {
    overflow: hidden;
    aspect-ratio: 3 / 4;
  }

  .portfolio-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;

    filter: sepia(1) saturate(0.5);
    transition:
      transform 0.4s cubic-bezier(0.4, 0, 0.2, 1),
      filter 0.6s cubic-bezier(0.33, 1, 0.68, 1);
  }

  .portfolio-item:hover img {
    transform: scale(1.02);
    filter: none;
  }
</style>
